
{%- assign section_settings = section.settings -%}
{%- assign announcement_message = section.settings.message_text -%}
{%- assign message_link = section.settings.message_text -%}
{%- assign message_text = section.settings.message_text -%}
{%- assign header_padding = section.settings.header_padding -%}
{%- assign color_bg = section.settings.color_bg -%}
{%- assign color_text = section.settings.color_text -%}
{%- assign color_text_hover = section.settings.color_text -%}

  <div class="announcement-bar">  
    <a href="{{message_link}}" class="announcement-bar announcement-bar--link">  
      <p class="announcement-bar__message">{{ message_text}}</p>
    </a>
</div>


<style>
    .announcement-bar {
      background-color: {{color_bg}};
      text-align:center;
      {% if section.settings.header_padding > 0 %}
        position:absolute;
        top: -{{ header_padding }}px !important;
        left:0;
        width:100%;
        z-index:9;
      {% endif %}
    }
    .announcement-bar p {
      padding:10px 0;
      font-size: 1.5rem;
      margin:0 !important;
    }
    .announcement-bar__message,
    .announcement-bar--link {
      color: {{ color_text}};
    }
    .announcement-bar--link:hover, 
    .announcement-bar--link:hover .announcement-bar__message {
      color: {{color_text_hover}} !important;
    }
    body {
      position:relative;
      top: {{header_padding}}px !important;
    }
</style>


{% schema %}
  {
    "name": "Announcement bar",
    "settings": [
      {
        "type": "header",
        "content": "General"
      },
    {
        "type":   "range",
        "id":     "header_padding",
        "min":    0,
        "max":    100,
        "step":   1,
        "unit":   "px",
        "label":  "Header padding",
        "default":   0
    },
    {
        "type": "header",
        "content": "Content"
      },
      {
        "type": "text",
        "id": "message_text",
        "label": "Text",
        "default": "Announce something here"
      },
      {
        "type": "url",
        "id": "message_link",
        "label": "Link",
        "info": "Optional"
      },
    {
        "type": "header",
        "content": "Fonts and colors"
      },
      {
        "type": "color",
        "id": "color_bg",
        "label": "Background color",
        "default": "#333333"
      },
      {
        "type": "color",
        "id": "color_text",
        "label": "Text color",
        "default": "#ffffff"
      },
    {
        "type": "color",
        "id": "color_text_hover",
        "label": "Link hover color",
        "default": "#eeeeee"
      }
    ]
  }
{% endschema %}