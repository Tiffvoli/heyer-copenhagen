<section class="page section">
  <div class="container">
      {%section 'signin-banner'%}
    <div id="CustomerLoginForm" class="">

      {% comment %} Customer login form {% endcomment %}
      {% form 'customer_login', class: 'form form-small form-margin' %}

        {% comment %} Form errors {% endcomment %}
        {%- if form.errors -%}
          <div class="formMessage">
            <h3 class="formMessage_title" tabindex="-1" data-form-status>{{ 'contact.form.error_heading' | t }}</h3>
            {{ form.errors | default_errors }}
          </div>
        {%- endif -%}

        {% comment %} Form fields {% endcomment %}
        <div class="formGroup">
          <label class="label" for="CustomerEmail">{{ 'customer.login.email' | t }}</label>
          <input
            type="email"
            name="customer[email]"
            id="CustomerEmail"
            autocomplete="email"
            autocorrect="off"
            autocapitalize="off"
            value=""
            class="input input-dark"
            placeholder="{{ 'customer.login.email' | t }}"
            required
          >
        </div>

        <div class="formGroup">
          <label class="label" for="CustomerPassword">{{ 'customer.login.password' | t }}</label>
          <input
            type="password"
            name="customer[password]"
            id="CustomerPassword"
            value=""
            class="input input-dark"
            placeholder="{{ 'customer.login.password' | t }}"
            required
          >
        </div>

        {% comment %} Recover password {% endcomment %}
        <div class="formGroup">
          <a class="link" id="showRecoverPassword" href="#">{{ 'customer.login.forgot_password' | t }}</a>
        </div>

        {% comment %} Form submit {% endcomment %}
        <button class="button button-black" type="submit">{{ 'customer.login.sign_in' | t | upcase}}</button>
      {% endform %}
    </div>

    <div id="RecoverPasswordForm" class="hidden">
      <header class="page_header" style="margin: 0 auto 30px; max-width: 350px">
        <h2 class="password-title">{{ 'customer.recover_password.title' | t }}</h2>
        <p class="password-description">{{ 'customer.recover_password.subtext' | t }}</p>
      </header>

      {% form 'recover_customer_password', class: 'form form-small' %}

        {% if form.posted_successfully? %}
          <h3>{{ 'customer.recover_password.success' | t }}</h3>
        {% endif %}

        {% comment %} Form fields {% endcomment %}
        <div class="formGroup">
          <label class="label" for="customer[password]">{{ 'customer.recover_password.email' | t }}</label>
          <input
            id="RecoverEmail"
            class="input input-dark"
            type="email"
            value=""
            name="email"
            autocorrect="off"
            autocapitalize="off"
            placeholder="{{ 'customer.recover_password.email_placeholder' | t }}"
            required
          >
        </div>

        {% comment %} Form submit {% endcomment %}
        <button class="button button-black" type="submit">{{ 'customer.recover_password.submit' | t | upcase}}</button>

        {% comment %} Cancel recover password {% endcomment %}
        <a id="hideRecoverPassword" class="link" href="#" style="display: block; margin: 20px 0 80px; color: #4c4c4b">{{ 'customer.recover_password.cancel' | t }}</a>
      {% endform %}
    </div>

  </div>
</section>

<script>
  var formCustomerLogin = document.getElementById('CustomerLoginForm');
  var formRecoverPassword = document.getElementById('RecoverPasswordForm');
  var showRecoverPassword = document.getElementById('showRecoverPassword');
  var hideRecoverPassword = document.getElementById('hideRecoverPassword');

  showRecoverPassword.addEventListener('click', function(event) {
    event.preventDefault();
    formCustomerLogin.classList.add('hidden');
    formRecoverPassword.classList.toggle('hidden');
  });

  hideRecoverPassword.addEventListener('click', function(event) {
    event.preventDefault();
    formCustomerLogin.classList.remove('hidden');
    formRecoverPassword.classList.toggle('hidden');
  });
</script>

{% comment %} {% include 'subscription-account-login' %} {% endcomment %}
{% comment %} {% section 'account-reset-password' %} {% endcomment %}
{% comment %} {% section 'account-recover-password' %} {% endcomment %}
